    /*
    public void processMoves(long movesLow, long movesHigh) {
    // Process the 'low' 64 bits first
    long currentMoves = movesLow;
    while (currentMoves != 0) {
        // Find the index of the least significant (lowest) '1' bit
        int targetSquareIndex = Long.numberOfTrailingZeros(currentMoves);

        // --- Process the move using targetSquareIndex ---
        System.out.println("Processing move to index: " + targetSquareIndex);
        // Add this move to your move list, check legality, etc.
        // --------------------------------------------------

        // Brian Kernighan's trick: Clear the lowest set bit (turn off that light switch)
        currentMoves &= (currentMoves - 1);
    }

    // Process the 'high' 27 bits
    currentMoves = movesHigh;
    while (currentMoves != 0) {
        int targetSquareIndex = Long.numberOfTrailingZeros(currentMoves);

        // !!! CRITICAL OFFSET !!! Add 64 to get the actual board index
        int fullBoardIndex = targetSquareIndex + 64;

        // --- Process the move using fullBoardIndex ---
        System.out.println("Processing move to index: " + fullBoardIndex);
        // ---------------------------------------------

        // Clear the lowest set bit
        currentMoves &= (currentMoves - 1);
    }
}
     */